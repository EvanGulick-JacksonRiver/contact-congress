bioguide: C001070
contact_form:
  method: post
  action: "https://www.casey.senate.gov/contact/share"
  steps:
    - visit: "https://www.casey.senate.gov/contact/share"
    - wait:
        - value: 10
    - javascript:
        - value: \\"'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&'function'==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?'symbol':typeof obj};Fx.Log=new Class({Extends:Fx,initialize:function(element,options){this.parent(options),this.element=document.id(element)},set:function(now){return this.element.set('text',now.round()),this}});var Forms_Builder=new Class({Implements:[Options,Events],options:{id:'forms_builder',webroot:application.webroot,datasource:'cfc_extensions/data/forms.cfc'},initialize:function(options){this.setOptions(options);var controller=this;if(this.bootstrap=null,this.loaded={datepicker:{script:!1,css:!0},formcheck:{script:!1}},'function'==typeof FormCheck&&(this.loaded.formcheck.script=!0,this.check()),this.loaded.datepicker.script===!1){this.load.javascript(application.webroot+'scripts/bootstrap-datepicker.js',{onLoad:function(){controller.loaded.datepicker.script=!0,controller.check()}});Browser.safari&&(this.loaded.datepicker.css=!0)}if(this.loaded.formcheck.script===!1){this.load.javascript(application.webroot+'scripts/vendor/formcheck/formcheck.js',{onLoad:function(){controller.loaded.formcheck.script=!0,controller.check()}})}},check:function(){this.loaded.datepicker.script===!0&&this.loaded.datepicker.css===!0&&this.loaded.formcheck.script===!0&&this.init()},init:function(){var controller=this;this.form_containers=document.id(document.body).getElements('div.amend-form-container'),this.form_containers.each(function(container){controller.build(container,container.id.replace('form-',''))})},build:function(container,id){var controller=this;container.empty();var idVar=(new Element('div',{'class':'loader'}).inject(container),id.replace(/-/g,''));if('undefined'!=typeof window['form_preview_'+idVar])controller.render(container,id,window['form_preview_'+idVar]);else{var pars='method=get&id='+encodeURIComponent(id);new Request({url:this.options.webroot+this.options.datasource,data:pars,onSuccess:function(request){request=request.clean();var r=JSON.decode('//'==request.substr(0,2)?request.substr(2,request.length):request);controller.render(container,id,r)}}).send()}},render:function(container,id,r){var controller=this,id_check=id.toLowerCase();'undefined'!=typeof application.form.bootstrap&&application.form.bootstrap['for'].toLowerCase()==id_check&&(controller.bootstrap=application.form.bootstrap.data);var selects={},inputs={},fields_with_default_values=[],validation_group=0;container.empty(),container.addClass('loaded');var signatures={container:null,num:null,fx:null};if('undefined'!=typeof r.FORM.DATA.PETITION_DISPLAY_TOTAL_VOTES&&1==r.FORM.DATA.PETITION_DISPLAY_TOTAL_VOTES[0]){signatures.container=new Element('div',{'class':'signatures-container'}).inject(container);var numSignaturesContainer=new Element('div',{'class':'num-signatures-container'}).inject(signatures.container);signatures.num=new Element('div',{'class':'num-signatures'}).inject(numSignaturesContainer),signatures.fx=new Fx.Log(signatures.num,{duration:1e3});new Element('div',{'class':'num-signatures-label',html:r.FORM.DATA.PETITION_TOTAL_LABEL[0]}).inject(signatures.container)}if(_typeof('undefined'!=application.form.processed)&&application.fn.check(application.form.processed)&&application.form.processed==r.FORM.DATA.ID[0]){new Element('div',{html:application.form.successMessage || r.FORM.DATA.SUBMIT_MESSAGE[0]}).inject(container);if('poll'==r.FORM.DATA.TYPE[0]){$('html, body').animate({scrollTop:$('#form-'+id).offset().top-50},250);var poll_container=new Element('div').inject(container);controller.init_chart(id_check,poll_container)}else'undefined'!=typeof r.FORM.DATA.PETITION_DISPLAY_TOTAL_VOTES&&1==r.FORM.DATA.PETITION_DISPLAY_TOTAL_VOTES[0]&&controller.doPetitionTotal(r.FORM.DATA.ID[0],signatures)}else{if($$('.hide-on-submit').each(function(elem){elem.removeClass('hide-on-submit')}),'undefined'!=typeof application.form.valid&&0==application.form.valid){new Element('p',{'class':'form-validation-error-message',html:'We&rsquo;re sorry, but there are one or more errors with your form submission.'}).inject(container)}var captcha=!('undefined'==typeof r.FORM.DATA.CAPTCHA||!application.fn.check(r.FORM.DATA.CAPTCHA[0])||1!=r.FORM.DATA.CAPTCHA[0]),custom_uri=!('custom_uri'!=r.FORM.DATA.TYPE[0]||!application.fn.check(r.FORM.DATA.CUSTOM_URI[0]));if('undefined'!=typeof r.FORM.DATA.DESCRIPTION&&''!=r.FORM.DATA.DESCRIPTION[0]){new Element('div',{html:r.FORM.DATA.DESCRIPTION[0]}).inject(container)}var form=new Element('form',{id:r.FORM.DATA.ID[0],action:1==custom_uri&&'./'!=r.FORM.DATA.CUSTOM_URI[0]?r.FORM.DATA.CUSTOM_URI[0]:window.location.href,method:'post'}).inject(container);'undefined'!=typeof r.FORM.DATA.HORIZONTAL_LAYOUT&&1==r.FORM.DATA.HORIZONTAL_LAYOUT[0]&&form.addClass('form-horizontal');var randomize=!1,rowsArray=null,randomizeContainer=null,randomizeContainerInjected=!1;'poll'==r.FORM.DATA.TYPE[0]&&1==r.FORM.DATA.POLL_RANDOMIZE&&(randomize=!0,rowsArray=[],randomizeContainer=new Element('div'));var injectElement=form,voidTags=['area','base','br','col','command','embed','hr','img','input','link','meta','param','source'],formScripts=[],formCheckId='formcheck_'+r.FORM.DATA.ID[0].replace(/-/g,'');window[formCheckId]=null;for(var x=0;x<r.ELEMENTS.ROWCOUNT;x++)if('script'==r.ELEMENTS.DATA.TYPE[x]){var scriptString=r.ELEMENTS.DATA.VALUE[x];scriptString='var formcheck = window[''+formCheckId+''];\n\n'+scriptString,scriptString='(function() {\n'+scriptString+'\n})()',formScripts.push(scriptString)}else if(0==r.ELEMENTS.DATA.DEPTH[x]){'poll'==r.FORM.DATA.TYPE[0]&&1==r.FORM.DATA.POLL_RANDOMIZE[0]&&1==r.ELEMENTS.DATA.DO_CHART[x]&&(0==randomizeContainerInjected&&randomizeContainer.inject(form),injectElement=randomizeContainer);var row=null;if('markup'!=r.ELEMENTS.DATA.TYPE[x]&&(row=new Element('div',{'class':'control-group'}).inject(injectElement)),1==randomize&&1==r.ELEMENTS.DATA.DO_CHART[x]&&(row.setStyle('display',''),rowsArray.push(row)),'markup'==r.ELEMENTS.DATA.TYPE[x])if('structural'==r.ELEMENTS.DATA.SUBTYPE[x]){var fragment=r.ELEMENTS.DATA.VALUE[x];fragment&&(fragment=fragment.replace(/\t/g,'').replace(/\n/g,'').replace(/<![^>]+>/g,'').replace(/^[\s]+|[\s]+$./g,''));for(var count=0,limit=100;fragment&&''!=fragment&' '!=fragment&&count!=limit;){var tags=fragment.match(/<[^>]+>/g);if(tags=tags?tags:[],tags.length>0)if('</'==tags[0].substr(0,2))injectElement=injectElement.getParent(),fragment=fragment.replace(tags[0],'');else{var tag=tags[0].replace(/<([a-zA-Z0-9\-]+) ?([^>]+)?>/,'$1'),attrs=tags[0].replace(/<(\w+)((?:\s+\w+(?:\s*=\s*(?:(?:'[^']*')|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,'$2'),last=tags[0].replace(/<(\w+)((?:\s+\w+(?:\s*=\s*(?:(?:'[^']*')|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,'$3');if(voidTags.contains(tag)||'/'==last){fragment=fragment.replace(tags[0],'');var elem=new Element(tag).inject(injectElement);''!=attrs&&controller.setAttributes(elem,attrs)}else if(fragment.test(new RegExp('(?!<'+tag+')(</'+tag+'>)'))){var matched=fragment.match(new RegExp(tags[0]+'.*?</'+tag+'>'));if(matched&&matched.length>0){var options={},inner=matched[0].replace(new RegExp(tags[0]+'(.*?)</'+tag+'>'),'$1');''!=inner&&(options.html=inner);var elem=new Element(tag,options).inject(injectElement);''!=attrs&&controller.setAttributes(elem,attrs)}fragment=fragment.replace(matched[0],'')}else{fragment=fragment.replace(tags[0],'');var elem=new Element(tag);''!=attrs&&controller.setAttributes(elem,attrs),elem.inject(injectElement),injectElement=elem}fragment=fragment.trim()}count++}}else{var div=new Element('div').inject(injectElement);div.set('html',r.ELEMENTS.DATA.VALUE[x])}else{var options={id:application.fn.check(r.ELEMENTS.DATA.ELEMENT_ID[x])?r.ELEMENTS.DATA.ELEMENT_ID[x]:'input-'+r.ELEMENTS.DATA.ID[x],name:1==custom_uri&&application.fn.check(r.ELEMENTS.DATA.NAME[x])?r.ELEMENTS.DATA.NAME[x].toLowerCase():'input_'+r.ELEMENTS.DATA.ID[x]};if(application.fn.check(r.ELEMENTS.DATA.TITLE[x])&&(options.title=r.ELEMENTS.DATA.TITLE[x]),1==r.ELEMENTS.DATA.REQUIRED[x]||application.fn.check(r.ELEMENTS.DATA.VALIDATION_TYPE[x])){var cls='validate[';if(1==r.ELEMENTS.DATA.REQUIRED[x]&&(cls+='custom'==r.ELEMENTS.DATA.VALIDATION_TYPE[x]?''custom'':''required''),application.fn.check(r.ELEMENTS.DATA.VALIDATION_TYPE[x]))if(application.fn.check(r.ELEMENTS.DATA.VALIDATION_TYPE[x])&&'custom'==r.ELEMENTS.DATA.VALIDATION_TYPE[x]){if(application.fn.check(r.ELEMENTS.DATA.VALIDATION[x])){var unid=r.ELEMENTS.DATA.ID[x].replace(/-/g,'_','g');Browser.exec('window['validate_'+unid+''] = function(field) { '+r.ELEMENTS.DATA.VALIDATION[x].replace('\t',' ','g').replace('\n',' ','g')+' };'),cls+=(1==r.ELEMENTS.DATA.REQUIRED[x]?',':''custom',')+''%window.validate_'+unid+'''}}else cls+='date'==r.ELEMENTS.DATA.VALIDATION_TYPE[x]?(1==r.ELEMENTS.DATA.REQUIRED[x]?',':'')+''%creativengine_forms_builder.validate.date'':'social-security'==r.ELEMENTS.DATA.VALIDATION_TYPE[x]?(1==r.ELEMENTS.DATA.REQUIRED[x]?',':'')+''%creativengine_forms_builder.validate.ssn'':'zip'==r.ELEMENTS.DATA.VALIDATION_TYPE[x]?(1==r.ELEMENTS.DATA.REQUIRED[x]?',':'')+''%creativengine_forms_builder.validate.zip'':(1==r.ELEMENTS.DATA.REQUIRED[x]?',':'')+'''+r.ELEMENTS.DATA.VALIDATION_TYPE[x]+''';cls+=']',options['class']=cls}application.fn.check(r.ELEMENTS.DATA.TYPE[x])&&'div'!=r.ELEMENTS.DATA.TAG[x]&&(options.type=r.ELEMENTS.DATA.TYPE[x]);var input=null;if('input'==r.ELEMENTS.DATA.TAG[x]&&'checkbox'==r.ELEMENTS.DATA.TYPE[x]){if(options.value=r.ELEMENTS.DATA.ID[x],input=new Element(r.ELEMENTS.DATA.TAG[x],options).inject(row),'undefined'!=typeof application.form.valid&&0==application.form.valid&&'undefined'!=typeof application.form.values?'undefined'!=typeof application.form.values[r.ELEMENTS.DATA.ID[x]]&&application.form.values[r.ELEMENTS.DATA.ID[x]].RAW.indexOf(r.ELEMENTS.DATA.ID[x])!=-1&&(input.checked=!0):application.fn.check(r.ELEMENTS.DATA.VALUE[x])&&(input.checked=!0),controller.bootstrap){var inputName=r.ELEMENTS.DATA.NAME[x];inputName&&'undefined'!=typeof controller.bootstrap[inputName]&&controller.bootstrap[inputName].toLowerCase().indexOf(r.ELEMENTS.DATA.ID[x].toLowerCase())!==-1&&(input.checked=!0)}var label=new Element('label',{'for':application.fn.check(r.ELEMENTS.DATA.ELEMENT_ID[x])?r.ELEMENTS.DATA.ELEMENT_ID[x]:'input-'+r.ELEMENTS.DATA.ID[x],html:r.ELEMENTS.DATA.LABEL[x].trim()}).inject(row);if(1==r.ELEMENTS.DATA.REQUIRED[x]){new Element('span',{'class':'required',html:'*'}).inject(label)}}else{if(controller.bootstrap&&application.fn.check(r.ELEMENTS.DATA.NAME[x])&&''!=r.ELEMENTS.DATA.NAME[x]&&'undefined'!=typeof controller.bootstrap[r.ELEMENTS.DATA.NAME[x].toLowerCase()]?options.value=controller.bootstrap[r.ELEMENTS.DATA.NAME[x].toLowerCase()]:application.fn.check(r.ELEMENTS.DATA.VALUE[x])&&'text'!=r.ELEMENTS.DATA.TYPE[x]&&(options.value=r.ELEMENTS.DATA.VALUE[x]),application.fn.check(r.ELEMENTS.DATA.LABEL[x]))if('div'==r.ELEMENTS.DATA.TAG[x]&&('checkbox'==r.ELEMENTS.DATA.TYPE[x]||'radio'==r.ELEMENTS.DATA.TYPE[x])||'editable'==r.ELEMENTS.DATA.TYPE[x]){new Element('div',{html:r.ELEMENTS.DATA.LABEL[x].trim()}).inject(row)}else{var labelText=r.ELEMENTS.DATA.LABEL[x].trim().replace(/&amp;/g,'&'),label=new Element('label',{'class':'control-label','for':application.fn.check(r.ELEMENTS.DATA.ELEMENT_ID[x])?r.ELEMENTS.DATA.ELEMENT_ID[x]:'input-'+r.ELEMENTS.DATA.ID[x],html:labelText}).inject(row);if(1==r.ELEMENTS.DATA.REQUIRED[x]&&'&nbsp;'!=labelText){new Element('span',{'class':'required',html:'*'}).inject(label)}}var input_div=new Element('div',{'class':'controls'}).inject(row);input=new Element(r.ELEMENTS.DATA.TAG[x],options).inject(input_div),'undefined'!=typeof application.form.valid&&0==application.form.valid&&'undefined'!=typeof application.form.values?'undefined'!=typeof application.form.values[r.ELEMENTS.DATA.ID[x]]&&(input.value=application.form.values[r.ELEMENTS.DATA.ID[x]].RAW):(application.fn.check(r.ELEMENTS.DATA.VALUE[x])&&'input'==r.ELEMENTS.DATA.TAG[x]&&'text'==r.ELEMENTS.DATA.TYPE[x]||'textarea'==r.ELEMENTS.DATA.TAG[x])&&input.setProperty('placeholder',r.ELEMENTS.DATA.VALUE[x]),r.ELEMENTS.DATA.CLASS[x]&&''!=r.ELEMENTS.DATA.CLASS[x]&&input.addClass(r.ELEMENTS.DATA.CLASS[x]),1==r.ELEMENTS.DATA.DATEPICKER[x]&&(jQuery(input).datepicker({autoclose:!0}),'function'==typeof input.hide&&(input.hide=null))}if(input&&r.ELEMENTS.DATA.ATTRIBUTES[x]&&''!=r.ELEMENTS.DATA.ATTRIBUTES[x]){var atts=r.ELEMENTS.DATA.ATTRIBUTES[x].replace(/(['']) /gi,'&nbsp;');atts=r.ELEMENTS.DATA.ATTRIBUTES[x].split('nbsp;');for(var idx=0;idx<atts.length;idx++){var components=atts[idx].split('='),attr=components[0],val=components[1].replace(/'/gi,'').replace(/'/gi,'');input.setProperty(attr,val)}}if('select'==r.ELEMENTS.DATA.TAG[x]){var select_initial_label='';application.fn.check(r.ELEMENTS.DATA.SELECT_INITIAL_LABEL[x])&&(select_initial_label=r.ELEMENTS.DATA.SELECT_INITIAL_LABEL[x]);var option=new Element('option',{value:'',html:select_initial_label}).inject(input),selectVal=r.ELEMENTS.DATA.VALUE[x];if(controller.bootstrap){var selectName=r.ELEMENTS.DATA.NAME[x];selectName&&'undefined'!=typeof controller.bootstrap[selectName]&&(selectVal=controller.bootstrap[selectName].constructor===String?controller.bootstrap[selectName].trim():controller.bootstrap[selectName])}selects[r.ELEMENTS.DATA.ID[x]]={id:r.ELEMENTS.DATA.ID[x],select:input,type:r.ELEMENTS.DATA.SELECT_TYPE[x],select_options_type:r.ELEMENTS.DATA.SELECT_OPTIONS_TYPE[x],select_options_value_type:r.ELEMENTS.DATA.SELECT_OPTIONS_VALUE_TYPE[x],value:selectVal}}else'div'!=r.ELEMENTS.DATA.TAG[x]||'checkbox'!=r.ELEMENTS.DATA.TYPE[x]&&'radio'!=r.ELEMENTS.DATA.TYPE[x]||(inputs[r.ELEMENTS.DATA.ID[x]]={container:input,required:r.ELEMENTS.DATA.REQUIRED[x],group:++validation_group,element_id:r.ELEMENTS.DATA.ELEMENT_ID[x],element_id_counter:0,name:r.ELEMENTS.DATA.NAME[x],cols:r.ELEMENTS.DATA.COLS[x],elems:[]})}}else if('option'==r.ELEMENTS.DATA.TAG[x]){var options={value:r.ELEMENTS.DATA.VALUE[x],'class':'manual','data-unid':r.ELEMENTS.DATA.ID[x],html:r.ELEMENTS.DATA.LABEL[x].trim()};r.ELEMENTS.DATA.VALUE[x]==selects[r.ELEMENTS.DATA.PARENT[x]].value&&(options.selected='selected');var option=new Element('option',options).inject(selects[r.ELEMENTS.DATA.PARENT[x]].select);'undefined'!=typeof application.form.valid&&0==application.form.valid&&'undefined'!=typeof application.form.values&&'undefined'!=typeof application.form.values[r.ELEMENTS.DATA.PARENT[x]]&&application.form.values[r.ELEMENTS.DATA.PARENT[x]].VALUE==r.ELEMENTS.DATA.VALUE[x]&&(option.selected=!0)}else'input'!=r.ELEMENTS.DATA.TAG[x]||'checkbox'!=r.ELEMENTS.DATA.TYPE[x]&&'radio'!=r.ELEMENTS.DATA.TYPE[x]||inputs[r.ELEMENTS.DATA.PARENT[x]].elems.push({id:r.ELEMENTS.DATA.ID[x],parent:r.ELEMENTS.DATA.PARENT[x],tag:r.ELEMENTS.DATA.TAG[x],type:r.ELEMENTS.DATA.TYPE[x],label:r.ELEMENTS.DATA.LABEL[x],value:r.ELEMENTS.DATA.VALUE[x],required:r.ELEMENTS.DATA.REQUIRED[x],validation_type:r.ELEMENTS.DATA.VALIDATION_TYPE[x]});if(1==randomize){var shuffled=[];rowsArray.each(function(row){shuffled.push(row.dispose())}),shuffled.shuffle(),shuffled.each(function(row){row.removeProperty('style'),row.inject(randomizeContainer)})}Object.each(selects,function(s){if('amend'==s.type)for(var options=r['OPTIONS_'+s.id],x=0;x<options.ROWCOUNT;x++){var val='unid'==s.select_options_value_type?options.DATA.UID[x]:options.DATA.VALUE[x],opts={value:val,html:options.DATA.NAME[x]};val==s.value&&(opts.selected='selected');var option=new Element('option',opts).inject(s.select);'undefined'!=typeof application.form.valid&&0==application.form.valid&&'undefined'!=typeof application.form.values&&'undefined'!=typeof application.form.values[s.id]&&('unid'==s.select_options_value_type?application.form.values[s.id].RAW==options.DATA.UID[x]&&(option.selected=!0):application.form.values[s.id].VALUE==options.DATA.VALUE[x]&&(option.selected=!0))}}),Object.each(inputs,function(input){for(var numCols=input.cols?input.cols:1,cols=[],idx=0;idx<numCols;idx++){var col=new Element('div',{styles:{'float':'left',width:Math.floor(100/numCols)+'%'}});col.inject(input.container),cols.push(col)}var numElemsInCol=(new Element('div',{styles:{clear:'both',html:'<!-- // -->'}}).inject(input.container),Math.ceil(input.elems.length/numCols)),current=0,currentCol=0;input.elems.each(function(elem){var checked=!1;controller.bootstrap&&input.name&&'undefined'!=typeof controller.bootstrap[input.name]&&controller.bootstrap[input.name].toLowerCase().indexOf(elem.id.toLowerCase())!==-1&&(checked=!0);var input_container=new Element('div',{'class':'checkbox-container'}).inject(cols[currentCol]),id=application.fn.check(inputs[elem.parent].element_id)?inputs[elem.parent].element_id+'-'+inputs[elem.parent].element_id_counter++:'input-'+elem.id,options={type:elem.type,id:id,name:1==custom_uri&&application.fn.check(inputs[elem.parent].name)?inputs[elem.parent].name.toLowerCase():'input_'+elem.parent,value:1==custom_uri&&application.fn.check(elem.value)?elem.value:elem.id};if((checked===!0||application.fn.check(elem.value)&&'checked'==elem.value)&&(options.checked='checked'),1==inputs[elem.parent].required||application.fn.check(elem.validation_type)){var cls='validate[';1==elem.required&&(cls+=''required''),cls+=(1==elem.required?',':'')+''group['+inputs[elem.parent].group+']'',cls+=']',options['class']=cls}input=new Element(elem.tag,options).inject(input_container),'undefined'!=typeof application.form.valid&&0==application.form.valid&&'undefined'!=typeof application.form.values&&'undefined'!=typeof application.form.values[elem.parent]&&application.form.values[elem.parent].RAW.indexOf(elem.id)!=-1&&(input.checked=!0);new Element('label',{'for':id,html:elem.label.trim()}).inject(input_container);1==numElemsInCol?currentCol++:++current==numElemsInCol&&(currentCol++,current=0)})});var captchaFeedback=null;if(captcha===!0&&'undefined'!=typeof application.form.captchaSiteKey&&''!=application.form.captchaSiteKey){var captchaFeedback=new Element('div',{'class':'form-captcha-feedback'}).inject(form);new Element('div',{id:'form-captcha-'+r.FORM.DATA.ID[0].replace(/-/g,''),'class':'g-recaptcha','data-sitekey':application.form.captchaSiteKey}).inject(form);this.load.javascript('https://www.google.com/recaptcha/api.js?onload=gRecaptchaReady')}var hidden_div=new Element('div').inject(form),bottom_outer_container=(new Element('input',{type:'hidden',id:'creativengine-form-identifier',name:'creativengine_form_identifier',value:r.FORM.DATA.ID[0]}).inject(hidden_div),new Element('input',{type:'hidden',id:'email-address-validation-field',name:'email_address_validation_field',value:''}).inject(hidden_div),new Element('div',{'class':'control-group'}).inject(form)),bottom_inner_container=new Element('div',{'class':'controls'}).inject(bottom_outer_container),submit=new Element('button',{type:'submit','class':'btn',html:r.FORM.DATA.SUBMIT_LABEL[0]}).inject(bottom_inner_container);if('poll'==r.FORM.DATA.TYPE[0]&&1==r.FORM.DATA.POLL_VIEW_RESULTS[0]){var p=new Element('p').inject(container),span=new Element('span',{'class':'poll-results-wait',html:'One moment, please...',styles:{display:'none'}}).inject(p);new Element('a',{html:'Click here to view the results',styles:{cursor:'pointer'},events:{click:function(){this.setStyle('display',''),span.removeProperty('style'),controller.init_chart(r.FORM.DATA.ID[0],container)}}}).inject(p)}'undefined'!=typeof r.FORM.DATA.PETITION_DISPLAY_TOTAL_VOTES&&1==r.FORM.DATA.PETITION_DISPLAY_TOTAL_VOTES[0]&&controller.doPetitionTotal(r.FORM.DATA.ID[0],signatures),window[formCheckId]=new FormCheck(form,{submit:!1,display:{indicateErrors:2,tipsPosition:'center',tipsOffsetY:-11},onSubmit:function(){fields_with_default_values.each(function(field){field.value==field.retrieve('default_text')&&(field.value='')})},onValidateSuccess:function(){if(captcha)if(grecaptcha.getResponse()){new Element('input',{type:'hidden',name:'cevf'+r.FORM.DATA.ID[0].replace(/-/g,''),value:window.btoa(r.FORM.DATA.ID[0])}).inject(form);submit.disabled=!0,this.options.submit=!0,captchaFeedback.set('html','')}else{var iframe=document.id('form-captcha-'+r.FORM.DATA.ID[0].replace(/-/g,'')).getElement('iframe'),iframeWidth=iframe.getSize().x;captchaFeedback.set('html','<div class='fc-tbx' style='opacity:1;position:relative;left:0px;top:0px;width:'+iframeWidth+'px;'><div class='arrow'></div><ul class='error-list'><li><p>Please select the checkbox below.</p></li></ul></div>'),new Fx.Scroll(window).start(0,captchaFeedback.getCoordinates().top-30),this.firstError=!0}else submit.disabled=!0,this.options.submit=!0,captchaFeedback&&captchaFeedback.set('html','')}});for(var idx=0;idx<formScripts.length;idx++)Browser.exec(formScripts[idx]);'undefined'!=typeof application.form.valid&&0==application.form.valid&&submit.click(),$('body').trigger('formLoaded')}},doPetitionTotal:function(id,signatures){new Request({url:this.options.webroot+this.options.datasource,data:'method=getTotalSubmissions&id='+encodeURIComponent(id),onSuccess:function(request){request=request.clean();var r=JSON.decode('//'==request.substr(0,2)?request.substr(2,request.length):request);signatures.container.addClass('loaded'),signatures.fx.start(0,r.total)}}).send()},init_chart:function(id,container){var controller=this;this.load.javascript('https://www.google.com/jsapi',{onLoad:function(){google.load('visualization','1',{packages:['corechart'],callback:function(){controller.do_chart(id,container)}})}})},do_chart:function(id,container){container.empty();var chart_container_loader=new Element('div',{'class':'amend-poll-chart'}).inject(container);new Request({url:this.options.webroot+this.options.datasource,data:'method=getPollResults&id='+encodeURIComponent(id),onSuccess:function(request){request=request.clean();var r=JSON.decode('//'==request.substr(0,2)?request.substr(2,request.length):request);if(chart_container_loader.addClass('loaded'),0==r.TOTAL){new Element('p',{html:'We're sorry, we were unable to find any votes!'}).inject(container)}else{for(var questions=new Element('ol').inject(container),x=0;x<r.ROWS.length;x++){var li=new Element('li').inject(questions),chart_container=(new Element('p',{'class':'amend-poll-question',html:r.ROWS[x].LABEL.trim()}).inject(li),new Element('div',{'class':'amend-poll-chart-container'}).inject(li)),data=new google.visualization.DataTable;data.addColumn('string','Question'),data.addColumn('number','Response'),'pie'!=r.ROWS[x].TYPE&&data.addColumn({type:'string',role:'tooltip',p:{html:!0}}),Object.each(r.ROWS[x].RESULTS,function(val,key){if(val>0||0==val&&1==r.ROWS[x].CHART_EMPTIES){val='percentage'==r.ROWS[x].UNITS?val/r.TOTAL:val;var dataRow=[key.replace('&nbsp;',' ','g').replace('&#44;',',','g'),val];'pie'!=r.ROWS[x].TYPE&&dataRow.push('<div class='amend-poll-tooltip'>'+key+' - <b>'+('percentage'==r.ROWS[x].UNITS?Math.round(100*val,2)+'%':val)+'</b></div>'),data.addRow(dataRow)}});var chart=null;if('pie'==r.ROWS[x].TYPE){var options={backgroundColor:{fill:'transparent'},is3D:!0,tooltip:{text:'percentage'==r.ROWS[x].UNITS?'percentage':'value'}};'undefined'!=typeof application.form.poll&&'undefined'!=typeof application.form.poll.colors&&(options.colors=application.form.poll.colors),'integer'==r.ROWS[x].UNITS&&(options.pieSliceText='value'),chart=new google.visualization.PieChart(chart_container)}else if('bar'==r.ROWS[x].TYPE){var options={backgroundColor:{fill:'transparent'},hAxis:{minValue:0},legend:{position:'none'},tooltip:{isHtml:!0}};'undefined'!=typeof application.form.poll&&'undefined'!=typeof application.form.poll.colors&&(options.colors=application.form.poll.colors),'percentage'==r.ROWS[x].UNITS&&(options.hAxis.format='#,###%'),chart=new google.visualization.BarChart(chart_container)}else if('column'==r.ROWS[x].TYPE){var options={backgroundColor:{fill:'transparent'},legend:{position:'none'},tooltip:{isHtml:!0},vAxis:{minValue:0}};'undefined'!=typeof application.form.poll&&'undefined'!=typeof application.form.poll.colors&&(options.colors=application.form.poll.colors),'percentage'==r.ROWS[x].UNITS&&(options.vAxis.format='#,###%'),chart=new google.visualization.ColumnChart(chart_container)}chart.draw(data,options)}if(1==r.DISPLAY_TOTAL){new Element('p',{'class':'amend-poll-total-container',html:'Total Submissions:<span class='amend-poll-total'>'+r.TOTAL+'</span>'}).inject(container)}}}}).send()},setAttributes:function(elem,attributes){var attrs=attributes.match(/[a-zA-Z0-9\-]+\=([''])[^'']*?['']/g);if(attrs&&attrs.length>0)for(var x=0;x<attrs.length;x++){var components=attrs[x].split('=');components.length>0?elem.setProperty(components[0],components[1].replace(/['']/g,'')):elem.setProperty(attrs[x],attrs[x])}},validate:{date:function(field){return!!field.value.clean().test(/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.](19|20)\d\d$/)||(field.errors.push('Please enter this date in MM/DD/YYYY format.'),!1)},ssn:function(field){return!!field.value.clean().test(/^\d{3}-?\d{2}-?\d{4}$/)||(field.errors.push('Please enter a valid social security number.'),!1)},zip:function(field){return!!field.value.clean().test(/^(\d{5})(-\d{4})?$/)||(field.errors.push('Please enter a valid zip code.'),!1)}},load:{javascript:function(source,properties){properties||(properties={});var script=new Element('script',{src:source,type:'text/javascript'}),doc=properties.document||document,load=properties.onload||properties.onLoad;return delete properties.onload,delete properties.onLoad,delete properties.document,load&&('undefined'!=typeof script.onreadystatechange?script.addEvent('readystatechange',function(){['loaded','complete'].contains(this.readyState)&&load.call(this)}):script.addEvent('load',load)),script.set(properties).inject(doc.head)},css:function(source,properties){properties||(properties={});var link=new Element('link',{rel:'stylesheet',media:'screen',type:'text/css',href:source}),load=properties.onload||properties.onLoad,doc=properties.document||document;return delete properties.onload,delete properties.onLoad,delete properties.document,load&&link.addEvent('load',load),link.set(properties).inject(doc.head)}}}),creativengine_forms_builder=new Forms_Builder;"
    - javascript:
        - value: document.querySelector('form[id='3C478C0F-DD8A-6210-DD6C-53C75A1DBB45']').style.display = "block";
    - find:
        - selector: "form[id='3C478C0F-DD8A-6210-DD6C-53C75A1DBB45']"
    - fill_in:
        - name: input_3C478E70-917F-5EED-EC38-62904ABEBE43
          selector: "#form-3C478C0F-DD8A-6210-DD6C-53C75A1DBB45 #input-3C478E70-917F-5EED-EC38-62904ABEBE43"
          value: $NAME_FIRST
          required: true
        - name: input_3C478D05-B458-1E21-1C7C-EBFD03360285
          selector: "#input-3C478D05-B458-1E21-1C7C-EBFD03360285"
          value: $NAME_LAST
          required: true
        - name: input_3C478CDD-EE28-DFC3-6C5F-A7ADE035B1B1
          selector: "#input-3C478CDD-EE28-DFC3-6C5F-A7ADE035B1B1"
          value: $ADDRESS_STREET
          required: true
        - name: input_3C478CB7-CCC7-2833-99B8-FBFB1CC49589
          selector: "#input-3C478CB7-CCC7-2833-99B8-FBFB1CC49589"
          value: $ADDRESS_STREET_2
          required: false
        - name: input_3C479068-C653-C536-3360-0831F9676225
          selector: "#input-3C479068-C653-C536-3360-0831F9676225"
          value: $ADDRESS_CITY
          required: true
        - name: input_3C4790AB-E218-6A59-2A8B-F6B3463A7AFD
          selector: "#input-3C4790AB-E218-6A59-2A8B-F6B3463A7AFD"
          value: $ADDRESS_ZIP5
          required: true
        - name: input_3C479044-EF7B-D975-B886-997D3DBC08B7
          selector: "#email"
          value: $EMAIL
          required: true
        - name: input_3C478E2B-F065-1BF5-8579-E13C9EE9E0D4
          selector: "#input-3C478E2B-F065-1BF5-8579-E13C9EE9E0D4"
          value: $EMAIL
          required: true
        - name: input_3C478E08-E94C-CA5D-529A-D92A74912057
          selector: "#input-3C478E08-E94C-CA5D-529A-D92A74912057"
          value: $PHONE
          required: false
        - name: input_3C478FD9-04CE-6840-A608-F510A7249134
          selector: "#input-3C478FD9-04CE-6840-A608-F510A7249134"
          value: $MESSAGE
          required: true
    - select:
        - name: input_3C478E4E-B4A2-F91A-17F3-3862979355B9
          selector: "#input-3C478E4E-B4A2-F91A-17F3-3862979355B9"
          value: $NAME_PREFIX
          required: true
          options:
            - None
            - Mr.
            - Mrs.
            - Ms.
            - Mx.
            - Miss
            - Dr.
            - Hon.
            - Prof.
            - Fr.
            - Sister
            - Reverend
            - Rabbi
            - Private
            - SR
            - Airman Basic
            - PV2
            - SA
            - PFC
            - Amn
            - SN
            - LCpl
            - A1C
            - CPL
            - SPC
            - PO3
            - Cpl
            - SrA
            - SGT
            - PO2
            - Sgt
            - SSgt
            - SSG
            - PO1
            - TSgt
            - SFC
            - CPO
            - GySgt
            - MSgt
            - First Sergeant
            - MSG
            - 1SG
            - SCPO
            - SMSgt
            - SGM
            - CSM
            - MCPO
            - MGySgt
            - SgtMaj
            - CMSgt
            - SMA
            - MCPON
            - MCPOCG
            - SgtMajMC
            - CMSAF
            - WO1
            - WO
            - CW2
            - CWO2
            - CW3
            - CWO3
            - CW4
            - CWO4
            - CW5
            - CWO5
            - 2LT
            - ENS
            - 2ndLt
            - 2d Lt
            - 1LT
            - LTJG
            - 1stLt
            - 1st Lt
            - CPT
            - LT
            - Capt
            - MAJ
            - LCDR
            - Maj
            - LTC
            - CDR
            - LtCol
            - Lt Col
            - COL
            - CAPT
            - Col
            - BG
            - RDML
            - BGen
            - Brig Gen
            - MG
            - RADM
            - MajGen
            - Maj Gen
            - LTG
            - VADM
            - LtGen
            - Lt Gen
            - GEN
            - ADM
            - Gen
        - name: input_3C478FFE-DC62-6127-67BA-711C44F8CDF0
          selector: "#input-3C478FFE-DC62-6127-67BA-711C44F8CDF0"
          value: $ADDRESS_STATE_POSTAL_ABBREV
          required: true
          options:
            - AL
            - AK
            - APO AA
            - APO AE
            - APO AP
            - AR
            - AZ
            - CA
            - CO
            - CT
            - DC
            - DE
            - DPO AA
            - DPO AE
            - DPO AP
            - FL
            - FPO AA
            - FPO AE
            - FPO AP
            - GA
            - HI
            - IA
            - ID
            - IL
            - IN
            - KS
            - KY
            - LA
            - MA
            - MD
            - ME
            - MI
            - MN
            - MO
            - MS
            - MT
            - NC
            - ND
            - NE
            - NH
            - NJ
            - NM
            - NV
            - NY
            - OH
            - OK
            - OR
            - PA
            - RI
            - SC
            - SD
            - TN
            - TX
            - UT
            - VA
            - VT
            - WA
            - WI
            - WV
            - WY
        - name: input_3C478C8F-9CED-FCC9-0426-93952AE9FBDF
          selector: "#input-3C478C8F-9CED-FCC9-0426-93952AE9FBDF"
          value: $TOPIC
          required: true
          options:
            Agriculture and Farming: Agriculture and Farming
            Animal Welfare: Animal Welfare
            Arts and Humanities: Arts and Humanities
            Abortion and Family Planning: Abortion
            Banking & Financial Services: Banking and Financial Services
            Budget: Budget
            Campaigns & Elections: Campaigns & Elections
            Children: Children
            Civil Rights: Civil Rights
            Civil Service: Civil Service
            Climate & Environment: Climate & Environment
            Consumer Protection: Consumer Protection
            Criminal Justice: Criminal Justice
            Defense & Military: Defense & Military
            Disabilities & Accessibility: Disabilities & Accessibility
            Economy: Economy
            Education: Education
            Energy: Energy
            Food & Nutrition: Food & Nutrition
            Foreign Affairs: Foreign Affairs
            Gun Violence: Gun Violence
            Health Care: Health Care
            Homeland Security: Homeland Security
            Housing: Housing
            Immigration: Immigration
            Jobs & Labor: Jobs & Labor
            Judiciary: Judiciary
            Medicare & Medicaid: Medicare & Medicaid
            Natural Disasters & Emergency Response: Natural Disasters & Emergency Response
            Parks & Interior: Parks & Interior
            Postal Service: Postal Service
            Poverty: Poverty
            Public Assistance Programs: Public Assistance Programs
            Retirement & Pensions: Retirement & Pensions
            Science & Research: Science & Research
            Seniors & Long Term Care: Seniors & Long Term Care
            Small Business: Small Business
            Social Security: Social Security
            Taxes: Taxes
            Technology & Cybersecurity: Technology & Cybersecurity
            Telecommunications & Utilities: Telecommunications & Utilities
            Trade: Trade
            Transportation & Infrastructure: Transportation & Infrastructure
            Veterans Affairs: Veterans Affairs
    - javascript:
        - value: document.querySelector("#input-3C478FD9-04CE-6840-A608-F510A7249134").value = document.querySelector("#input-3C478FD9-04CE-6840-A608-F510A7249134").value.replace(/"/g, '');
    - click_on:
        - value: Send
          selector: ".btn"
    - wait:
        - value: 3
  success:
    headers:
      status: 200
    body:
      contains: Thank You
